<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2nd Grade Sports Math Games</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 3px solid #1976d2;
            margin-bottom: 30px;
        }
        header h1 {
            color: #1976d2;
            font-size: 2.5em;
            margin-bottom: 5px;
        }
        header p {
            color: #555;
            font-size: 1.1em;
        }
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .game-card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: #4caf50;
        }
        .game-card h3 {
            color: #4caf50;
            margin-top: 0;
            font-size: 1.5em;
        }
        .game-card p {
            font-size: 0.9em;
            color: #777;
        }
        .game-area {
            display: none; /* Controlled by JavaScript */
            padding: 20px;
            border: 2px dashed #1976d2;
            border-radius: 15px;
        }
        .back-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-bottom: 20px;
            transition: background 0.3s;
        }
        .back-btn:hover {
            background: #d32f2f;
        }
        .btn {
            background-color: #1976d2;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s, transform 0.1s;
        }
        .btn:hover {
            background-color: #1565c0;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .btn-success {
            background-color: #4caf50;
        }
        .btn-success:hover {
            background-color: #388e3c;
        }
        .feedback {
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
        }
        .feedback.success {
            background-color: #e8f5e9;
            color: #388e3c;
            border: 2px solid #4caf50;
        }
        .feedback.error {
            background-color: #ffebee;
            color: #d32f2f;
            border: 2px solid #f44336;
        }

        /* Odd/Even Bucket Styles */
        .odd-even-bucket:hover {
            transform: scale(1.08) !important;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèÖ 2nd Grade Sports Math Hub</h1>
            <p>Select a game to practice your math skills!</p>
        </header>

        <div id="mainMenu" class="games-grid">
            <div class="game-card" id="walkathonCard">
                <h3>üëü Walk-A-Thon Progress</h3>
                <p>Locate numbers on a number line up to 500!</p>
            </div>
            <div class="game-card" id="compareCard">
                <h3>‚öñÔ∏è Scoreboard Showdown</h3>
                <p>Compare team scores (3-digit numbers) and pick the right symbol!</p>
            </div>
            <div class="game-card" id="oddEvenCard">
                <h3>ü•é Odd/Even Outfielder</h3>
                <p>Sort numbers as odd or even to make the play!</p>
            </div>
        </div>

        <div class="game-area" id="walkathon" style="display: none;">
            <button class="back-btn" id="walkathonBackBtn">‚Üê Back to Games</button>
            <h2 style="text-align: center; color: #4caf50;">üëü Walk-A-Thon Progress</h2>
            </div>

        <div class="game-area" id="compare" style="display: none;">
            <button class="back-btn" id="compareBackBtn">‚Üê Back to Games</button>
            <h2 style="text-align: center; color: #f57c00;">‚öñÔ∏è Scoreboard Showdown</h2>
            </div>


        <div class="game-area" id="odd-even" style="display: none;">
            <button class="back-btn" id="oddEvenBackBtn">‚Üê Back to Games</button>
            <h2 style="text-align: center; color: #1976d2;">ü•é Odd/Even Outfielder Challenge</h2>
            <p style="text-align: center; font-size: 1.2em;">Sort the baseballs by throwing them to the Odd Team or Even Team!</p>

            <div style="text-align: center; margin: 20px 0;">
                <span id="oddEvenQuestionNum" style="font-size: 1.1em; color: #666;">Pitch 1 of 10</span>
            </div>

            <div style="text-align: center; font-size: 1.3em; color: #2e7d32; font-weight: bold; margin-bottom: 30px;">
                Score: <span id="oddEvenScore">0</span>/10
            </div>

            <div style="text-align: center; margin: 50px 0;">
                <div id="currentBaseball" style="width: 150px; height: 150px; background: #f5f5f5; border: 5px solid #ff4444; border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center; font-size: 3.5em; font-weight: bold; color: #333; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: transform 0.2s;">
                    ?
                </div>
            </div>

            <div style="display: flex; justify-content: center; gap: 40px; margin: 40px 0; flex-wrap: wrap;">
                <div class="odd-even-bucket" data-type="odd" style="background: linear-gradient(135deg, #f57c00 0%, #ffb74d 100%); border: 3px solid #8b4513; border-radius: 15px; padding: 20px; min-width: 180px; text-align: center; cursor: pointer; transition: all 0.3s;">
                    <div style="font-size: 4em; margin-bottom: 10px;">üë§</div>
                    <div style="color: white; font-size: 1.5em; font-weight: bold;">Odd Team</div>
                </div>

                <div class="odd-even-bucket" data-type="even" style="background: linear-gradient(135deg, #2e7d32 0%, #66bb6a 100%); border: 3px solid #8b4513; border-radius: 15px; padding: 20px; min-width: 180px; text-align: center; cursor: pointer; transition: all 0.3s;">
                    <div style="font-size: 4em; margin-bottom: 10px;">üë•</div>
                    <div style="color: white; font-size: 1.5em; font-weight: bold;">Even Team</div>
                </div>
            </div>
            
            <div id="oddEvenFeedback" class="feedback" style="display: none;"></div>

            <div style="text-align: center;">
                <button id="oddEvenNewPitchBtn" class="btn btn-primary" style="display: none; font-size: 1.3em;">Next Pitch ‚öæ</button>
            </div>

            <div id="oddEvenResults" style="display: none; text-align: center; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 40px; border-radius: 20px; margin-top: 30px;">
                <h2 style="color: #1976d2; margin-bottom: 20px;">üéâ Challenge Complete! üéâ</h2>
                <div style="font-size: 80px; margin: 20px 0;" id="oddEvenResultsEmoji"></div>
                <div style="font-size: 1.4em; color: #1976d2; margin-bottom: 30px; line-height: 1.4;">
                    <p style="font-size: 1.5em; margin-bottom: 15px;">You sorted <span id="oddEvenFinalScore"></span> out of 10!</p>
                    <p id="oddEvenResultsMessage"></p>
                </div>
                <button id="oddEvenRestartBtn" class="btn btn-primary" style="font-size: 1.3em;">Play Again! ‚öæ</button>
            </div>
        </div>


    </div>

    <script>
        // Game flow functions (placeholder/skeleton for existing games)
        function showGame(gameId) {
            document.getElementById('mainMenu').style.display = 'none';
            document.querySelectorAll('.game-area').forEach(area => area.style.display = 'none');
            const gameArea = document.getElementById(gameId);
            if (gameArea) {
                gameArea.style.display = 'block';
                // Initialize specific games
                if (gameId === 'odd-even') initOddEven(); // NEW INITIALIZATION
                // Add initializers for other games (e.g., initWalkathon(), initCompare()) here if they exist
            }
        }

        function showMainMenu() {
            document.getElementById('mainMenu').style.display = 'grid';
            document.querySelectorAll('.game-area').forEach(area => area.style.display = 'none');
        }


        // ======================================================
        // ===== ODD/EVEN OUTFIELDER CHALLENGE GAME LOGIC =====
        // ======================================================

        let oddEvenCurrentPitch = 0;
        let oddEvenScore = 0;
        let oddEvenCurrentNumber = 0;
        const oddEvenTotalPitches = 10;

        function isEven(num) {
            // A number is even if the last digit is 0, 2, 4, 6, or 8.
            return num % 2 === 0;
        }

        function initOddEven() {
            oddEvenCurrentPitch = 0;
            oddEvenScore = 0;
            document.getElementById('oddEvenScore').textContent = oddEvenScore;
            document.getElementById('oddEvenResults').style.display = 'none';
            document.getElementById('oddEvenFeedback').style.display = 'none';
            document.getElementById('oddEvenNewPitchBtn').style.display = 'none';
            document.getElementById('currentBaseball').parentElement.style.display = 'block';
            document.querySelectorAll('.odd-even-bucket').forEach(btn => btn.parentElement.style.display = 'flex');

            // Reset bucket styles
            document.querySelectorAll('.odd-even-bucket').forEach(bucket => {
                bucket.style.pointerEvents = 'auto';
                bucket.style.opacity = '1';
                bucket.style.transform = 'scale(1)';
            });

            generateOddEvenQuestion();
        }

        function generateOddEvenQuestion() {
            if (oddEvenCurrentPitch >= oddEvenTotalPitches) {
                showOddEvenResults();
                return;
            }

            oddEvenCurrentPitch++;
            document.getElementById('oddEvenQuestionNum').textContent = `Pitch ${oddEvenCurrentPitch} of ${oddEvenTotalPitches}`;
            document.getElementById('oddEvenFeedback').style.display = 'none';
            document.getElementById('oddEvenNewPitchBtn').style.display = 'none';

            // Generate a random 2- or 3-digit number (10 to 999)
            oddEvenCurrentNumber = Math.floor(Math.random() * 990) + 10;
            
            // Display number
            const baseball = document.getElementById('currentBaseball');
            baseball.textContent = oddEvenCurrentNumber;
            baseball.style.transform = 'scale(1)'; // Reset animation

            // Enable and reset bucket styles
            document.querySelectorAll('.odd-even-bucket').forEach(bucket => {
                bucket.style.pointerEvents = 'auto';
                bucket.style.opacity = '1';
                bucket.style.transform = 'scale(1)';
                
                // Reset to original gradient colors
                if (bucket.dataset.type === 'odd') {
                    bucket.style.background = 'linear-gradient(135deg, #f57c00 0%, #ffb74d 100%)';
                } else {
                    bucket.style.background = 'linear-gradient(135deg, #2e7d32 0%, #66bb6a 100%)';
                }
            });
        }

        function checkOddEvenAnswer(selectedType) {
            const feedback = document.getElementById('oddEvenFeedback');
            const isNumEven = isEven(oddEvenCurrentNumber);
            const correctType = isNumEven ? 'even' : 'odd';
            const isCorrect = selectedType === correctType;
            const baseball = document.getElementById('currentBaseball');
            const lastDigit = oddEvenCurrentNumber % 10;

            // Disable buckets
            document.querySelectorAll('.odd-even-bucket').forEach(bucket => {
                bucket.style.pointerEvents = 'none';
                
                // Highlight correct bucket
                if (bucket.dataset.type === correctType) {
                    bucket.style.background = 'rgb(76, 175, 80)'; /* Bright Green */
                    bucket.style.transform = 'scale(1.05)';
                }
                
                // Highlight wrong selection
                if (bucket.dataset.type === selectedType && !isCorrect) {
                    bucket.style.background = 'rgb(244, 67, 54)'; /* Bright Red */
                    bucket.style.transform = 'scale(1.05)';
                }
                
                // Fade out non-selected wrong answer
                if (bucket.dataset.type !== correctType && bucket.dataset.type !== selectedType) {
                    bucket.style.opacity = '0.5';
                }
            });

            if (isCorrect) {
                oddEvenScore++;
                document.getElementById('oddEvenScore').textContent = oddEvenScore;
                feedback.textContent = `‚öæ Grand Slam! ${oddEvenCurrentNumber} is ${correctType} because it ends in ${lastDigit}!`;
                feedback.className = 'feedback success';
                baseball.style.transform = 'scale(1.1) rotate(5deg)'; 
            } else {
                feedback.textContent = `‚ùå Strike! ${oddEvenCurrentNumber} is ${correctType}, not ${selectedType}. Check the last digit (${lastDigit})!`;
                feedback.className = 'feedback error';
                baseball.style.transform = 'scale(0.9) rotate(-5deg)'; 
            }

            feedback.style.display = 'block';
            
            // Delay next pitch button
            setTimeout(() => {
                if (oddEvenCurrentPitch < oddEvenTotalPitches) {
                    document.getElementById('oddEvenNewPitchBtn').style.display = 'block';
                } else {
                    // Automatically show results after the last pitch
                    showOddEvenResults(); 
                }
            }, 1500);
        }

        function showOddEvenResults() {
            // Hide game elements that shouldn't show with results
            document.getElementById('oddEvenFeedback').style.display = 'none';
            document.getElementById('oddEvenNewPitchBtn').style.display = 'none';
            document.getElementById('currentBaseball').parentElement.style.display = 'none';
            document.querySelectorAll('.odd-even-bucket').forEach(btn => btn.parentElement.style.display = 'none');
            
            // Show results
            const results = document.getElementById('oddEvenResults');
            results.style.display = 'block';
            
            document.getElementById('oddEvenFinalScore').textContent = oddEvenScore;
            
            const percentage = Math.round((oddEvenScore / oddEvenTotalPitches) * 100);
            
            if (percentage >= 90) {
                document.getElementById('oddEvenResultsEmoji').textContent = 'üèÜ';
                document.getElementById('oddEvenResultsMessage').textContent = "Perfect game! You're an Odd/Even expert!";
            } else if (percentage >= 70) {
                document.getElementById('oddEvenResultsEmoji').textContent = '‚≠ê';
                document.getElementById('oddEvenResultsMessage').textContent = "Excellent fielding! You sorted most of them correctly!";
            } else if (percentage >= 50) {
                document.getElementById('oddEvenResultsEmoji').textContent = 'üëç';
                document.getElementById('oddEvenResultsMessage').textContent = "Good effort! Remember to check the last digit!";
            } else {
                document.getElementById('oddEvenResultsEmoji').textContent = 'üåü';
                document.getElementById('oddEvenResultsMessage').textContent = "Nice try! Let's work on those odd/even numbers!";
            }
        }

        function restartOddEvenGame() {
            // Show game elements again
            document.getElementById('currentBaseball').parentElement.style.display = 'block';
            document.querySelectorAll('.odd-even-bucket').forEach(btn => btn.parentElement.style.display = 'flex');
            initOddEven();
        }

        // ======================================================
        // ===== GLOBAL EVENT LISTENERS AND INITIALIZATION =====
        // ======================================================

        document.addEventListener('DOMContentLoaded', () => {
            // Main menu navigation
            // Placeholder listeners for existing games
            document.getElementById('walkathonCard').addEventListener('click', () => showGame('walkathon'));
            document.getElementById('compareCard').addEventListener('click', () => showGame('compare'));
            
            // NEW: Odd/Even Game Card Listener
            document.getElementById('oddEvenCard').addEventListener('click', () => showGame('odd-even'));

            // Back buttons (assuming only odd/even back button is active for this demo)
            // document.getElementById('walkathonBackBtn').addEventListener('click', showMainMenu);
            // document.getElementById('compareBackBtn').addEventListener('click', showMainMenu);
            document.getElementById('oddEvenBackBtn').addEventListener('click', showMainMenu); // NEW

            // NEW: Odd/Even Outfielder Challenge buttons
            document.querySelectorAll('.odd-even-bucket').forEach(bucket => {
                bucket.addEventListener('click', function() {
                    checkOddEvenAnswer(this.dataset.type);
                });
            });
            document.getElementById('oddEvenNewPitchBtn').addEventListener('click', generateOddEvenQuestion);
            document.getElementById('oddEvenRestartBtn').addEventListener('click', restartOddEvenGame);
        });

    </script>
</body>
</html>